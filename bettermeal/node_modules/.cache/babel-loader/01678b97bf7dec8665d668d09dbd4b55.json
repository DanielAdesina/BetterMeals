{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\danie\\\\Documents\\\\computerscience\\\\BetterMeals\\\\bettermeal\\\\src\\\\components\\\\Meals\\\\Meal.js\";\nimport React, { Component } from \"react\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport axios from \"axios\";\nimport emptysign from \"../MealPlan/emptyplate.webp\";\nimport MealsModal from \"./MealsModal\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Meal extends Component {\n  constructor(props) {\n    super(props);\n\n    this.showModalClick = () => {\n      this.setState({\n        showModal: true\n      });\n    };\n\n    this.state = {\n      // imageUrl: emptysign,\n      // meal: {title: \"No Meal\"},\n      // viewMeal: <a href=\"#\" style={{color: \"rgb(41, 198, 254)\"}}> View Meal</a>,\n      showModal: false\n    };\n  } // componentDidMount(){\n  //     if(this.props.id !== \"\"){\n  //         const storageCheck = JSON.parse(localStorage.getItem(this.props.id));\n  //         const options = {\n  //             method: 'GET',\n  //             url: 'https://spoonacular-recipe-food-nutrition-v1.p.rapidapi.com/recipes/' + this.props.id + '/information',\n  //             headers: {\n  //               'X-RapidAPI-Host': 'spoonacular-recipe-food-nutrition-v1.p.rapidapi.com',\n  //               'X-RapidAPI-Key': '51be17977amsh1e7b4aa1af671dep16977ajsn18b85345a72c'\n  //             }\n  //         };\n  //         if(storageCheck && (Date.now() < storageCheck.ttl)){\n  //             this.setState({\n  //                 imageUrl: \"https://spoonacular.com/recipeImages/\" + this.props.id + \"-240x150.jpg\",\n  //                 meal: storageCheck,\n  //                 viewMeal: <a href=\"#\" style={{color: \"rgb(41, 198, 254)\"}}> View Meal</a>\n  //             })\n  //         }\n  //         else{\n  //             axios.request(options).then(res => {\n  //                 res.data.ttl = Date.now() + (86400 * 1000);\n  //                 localStorage.setItem(this.props.id, JSON.stringify(res.data));\n  //                 this.setState({\n  //                     imageUrl: \"https://spoonacular.com/recipeImages/\" + this.props.id + \"-240x150.jpg\",\n  //                     meal: res.data,\n  //                     viewMeal: <a href=\"#\" style={{color: \"rgb(41, 198, 254)\"}}> View Meal</a>\n  //                 })\n  //             }).catch(function (error) {\n  //                 console.error(error);\n  //             });\n  //         }\n  //     }\n  // }\n\n\n  render() {\n    let imageUrl = emptysign;\n    let meal = {\n      title: \"No Meal\"\n    };\n\n    let viewMeal = /*#__PURE__*/_jsxDEV(\"a\", {\n      href: \"#\",\n      style: {\n        color: \"rgb(41, 198, 254)\"\n      },\n      children: \" View Meal\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 24\n    }, this);\n\n    if (this.props.id !== \"\") {\n      const storageCheck = JSON.parse(localStorage.getItem(this.props.id));\n      const options = {\n        method: 'GET',\n        url: 'https://spoonacular-recipe-food-nutrition-v1.p.rapidapi.com/recipes/' + this.props.id + '/information',\n        headers: {\n          'X-RapidAPI-Host': 'spoonacular-recipe-food-nutrition-v1.p.rapidapi.com',\n          'X-RapidAPI-Key': '51be17977amsh1e7b4aa1af671dep16977ajsn18b85345a72c'\n        }\n      };\n\n      if (storageCheck && Date.now() < storageCheck.ttl) {\n        imageUrl = \"https://spoonacular.com/recipeImages/\" + this.props.id + \"-240x150.jpg\";\n        meal = storageCheck;\n        viewMeal = /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"#\",\n          style: {\n            color: \"rgb(41, 198, 254)\"\n          },\n          children: \" View Meal\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 28\n        }, this);\n      } else {\n        axios.request(options).then(res => {\n          res.data.ttl = Date.now() + 86400 * 1000;\n          localStorage.setItem(this.props.id, JSON.stringify(res.data));\n          imageUrl = \"https://spoonacular.com/recipeImages/\" + this.props.id + \"-240x150.jpg\";\n          meal = storageCheck;\n          viewMeal = /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"#\",\n            style: {\n              color: \"rgb(41, 198, 254)\"\n            },\n            children: \" View Meal\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 32\n          }, this);\n        }).catch(function (error) {\n          console.error(error);\n        });\n      }\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"card\",\n      style: {\n        width: \"170px\",\n        backgroundColor: \"rgb(48, 51, 54)\",\n        color: \"whitesmoke\",\n        marginBottom: \"2rem\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: imageUrl,\n        class: \"card-img-top\",\n        alt: \"...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"card-body\",\n        children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n          class: \"card-title\",\n          children: meal\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 21\n        }, this), this.state.viewMeal, /*#__PURE__*/_jsxDEV(\"button\", {\n          class: \"btn btn-primary\",\n          onClick: this.showModalClick\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(MealsModal, {\n          show: this.state.showModal\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default Meal;","map":{"version":3,"sources":["C:/Users/danie/Documents/computerscience/BetterMeals/bettermeal/src/components/Meals/Meal.js"],"names":["React","Component","axios","emptysign","MealsModal","Meal","constructor","props","showModalClick","setState","showModal","state","render","imageUrl","meal","title","viewMeal","color","id","storageCheck","JSON","parse","localStorage","getItem","options","method","url","headers","Date","now","ttl","request","then","res","data","setItem","stringify","catch","error","console","width","backgroundColor","marginBottom"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport axios from \"axios\";\r\nimport emptysign from \"../MealPlan/emptyplate.webp\"\r\nimport MealsModal from \"./MealsModal\";\r\n\r\nclass Meal extends Component{\r\n    constructor(props){\r\n        super(props)\r\n        this.state = {\r\n            // imageUrl: emptysign,\r\n            // meal: {title: \"No Meal\"},\r\n            // viewMeal: <a href=\"#\" style={{color: \"rgb(41, 198, 254)\"}}> View Meal</a>,\r\n            showModal: false\r\n        }\r\n        \r\n    }\r\n\r\n    // componentDidMount(){\r\n    //     if(this.props.id !== \"\"){\r\n    //         const storageCheck = JSON.parse(localStorage.getItem(this.props.id));\r\n    //         const options = {\r\n    //             method: 'GET',\r\n    //             url: 'https://spoonacular-recipe-food-nutrition-v1.p.rapidapi.com/recipes/' + this.props.id + '/information',\r\n    //             headers: {\r\n    //               'X-RapidAPI-Host': 'spoonacular-recipe-food-nutrition-v1.p.rapidapi.com',\r\n    //               'X-RapidAPI-Key': '51be17977amsh1e7b4aa1af671dep16977ajsn18b85345a72c'\r\n    //             }\r\n    //         };\r\n    //         if(storageCheck && (Date.now() < storageCheck.ttl)){\r\n    //             this.setState({\r\n    //                 imageUrl: \"https://spoonacular.com/recipeImages/\" + this.props.id + \"-240x150.jpg\",\r\n    //                 meal: storageCheck,\r\n    //                 viewMeal: <a href=\"#\" style={{color: \"rgb(41, 198, 254)\"}}> View Meal</a>\r\n    //             })\r\n    //         }\r\n    //         else{\r\n    //             axios.request(options).then(res => {\r\n    //                 res.data.ttl = Date.now() + (86400 * 1000);\r\n    //                 localStorage.setItem(this.props.id, JSON.stringify(res.data));\r\n    //                 this.setState({\r\n    //                     imageUrl: \"https://spoonacular.com/recipeImages/\" + this.props.id + \"-240x150.jpg\",\r\n    //                     meal: res.data,\r\n    //                     viewMeal: <a href=\"#\" style={{color: \"rgb(41, 198, 254)\"}}> View Meal</a>\r\n    //                 })\r\n    //             }).catch(function (error) {\r\n    //                 console.error(error);\r\n    //             });\r\n    //         }\r\n        \r\n    //     }\r\n        \r\n    // }\r\n\r\n    showModalClick = () => {\r\n        this.setState({\r\n            showModal: true\r\n        })\r\n    }\r\n    render(){\r\n        let imageUrl = emptysign\r\n        let meal = {title: \"No Meal\"}\r\n        let viewMeal = <a href=\"#\" style={{color: \"rgb(41, 198, 254)\"}}> View Meal</a>\r\n        if(this.props.id !== \"\"){\r\n            const storageCheck = JSON.parse(localStorage.getItem(this.props.id));\r\n            const options = {\r\n                method: 'GET',\r\n                url: 'https://spoonacular-recipe-food-nutrition-v1.p.rapidapi.com/recipes/' + this.props.id + '/information',\r\n                headers: {\r\n                  'X-RapidAPI-Host': 'spoonacular-recipe-food-nutrition-v1.p.rapidapi.com',\r\n                  'X-RapidAPI-Key': '51be17977amsh1e7b4aa1af671dep16977ajsn18b85345a72c'\r\n                }\r\n            };\r\n            if(storageCheck && (Date.now() < storageCheck.ttl)){\r\n                \r\n                imageUrl = \"https://spoonacular.com/recipeImages/\" + this.props.id + \"-240x150.jpg\"\r\n                meal = storageCheck\r\n                viewMeal = <a href=\"#\" style={{color: \"rgb(41, 198, 254)\"}}> View Meal</a>\r\n            }\r\n            else{\r\n                axios.request(options).then(res => {\r\n                    res.data.ttl = Date.now() + (86400 * 1000);\r\n                    localStorage.setItem(this.props.id, JSON.stringify(res.data));\r\n                    imageUrl = \"https://spoonacular.com/recipeImages/\" + this.props.id + \"-240x150.jpg\"\r\n                    meal = storageCheck\r\n                    viewMeal = <a href=\"#\" style={{color: \"rgb(41, 198, 254)\"}}> View Meal</a>\r\n                }).catch(function (error) {\r\n                    console.error(error);\r\n                });\r\n            }\r\n        \r\n        }\r\n        return(\r\n            <div class=\"card\" style={{width: \"170px\", backgroundColor: \"rgb(48, 51, 54)\", color: \"whitesmoke\", marginBottom: \"2rem\"}}>\r\n                <img src={imageUrl} class=\"card-img-top\" alt=\"...\" />\r\n                <div class=\"card-body\" >\r\n                    <h6 class=\"card-title\">{meal}</h6>\r\n                    {this.state.viewMeal}\r\n                    <button class=\"btn btn-primary\" onClick={this.showModalClick}></button>\r\n                    <MealsModal show={this.state.showModal}></MealsModal>\r\n                    \r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Meal;\r\n"]},"metadata":{},"sourceType":"module"}