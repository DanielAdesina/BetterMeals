{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\danie\\\\Documents\\\\computerscience\\\\BetterMeals\\\\bettermeal\\\\src\\\\components\\\\Meals\\\\Meal.js\";\nimport React, { Component } from \"react\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport axios from \"axios\";\nimport emptysign from \"../MealPlan/emptyplate.webp\";\nimport MealsModal from \"./MealsModal\";\nimport config from \"../../config.json\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass Meal extends Component {\n  constructor(props) {\n    super(props);\n\n    this.getData = async (options, storageCheck) => {\n      if (storageCheck && Date.now() < storageCheck.ttl) {\n        console.log(storageCheck.title);\n        this.setState({\n          meal: storageCheck\n        });\n        return storageCheck;\n      } else {} // axios.request(options).then(res => {\n      //     console.log()\n      //     res.data.ttl = Date.now() + (86400 * 1000);\n      //     localStorage.setItem(this.props.id, JSON.stringify(res.data));\n      // }).catch(function (error) {\n      //     console.error(error);\n      // });\n\n    };\n\n    this.showModalClick = () => {\n      alert();\n      this.setState({\n        showModal: true\n      });\n    };\n\n    this.state = {\n      showModal: false,\n      meal: {\n        title: \"\"\n      },\n      title: \"\"\n    };\n  } // componentDidMount(){\n\n\n  componentDidMount() {\n    if (this.props.id !== \"\") {\n      const storageCheck = JSON.parse(localStorage.getItem(this.props.id));\n      const options = {\n        method: 'GET',\n        url: 'https://spoonacular-recipe-food-nutrition-v1.p.rapidapi.com/recipes/' + this.props.id + '/information',\n        headers: {\n          'X-RapidAPI-Host': 'spoonacular-recipe-food-nutrition-v1.p.rapidapi.com',\n          'X-RapidAPI-Key': config[\"api-key\"]\n        }\n      };\n      axios.request(options).then(res => {\n        res.data.ttl = Date.now() + 86400 * 1000;\n        localStorage.setItem(this.props.id, JSON.stringify(res.data));\n        console.log(res.data.title);\n      }).catch(err => {\n        console.error(err);\n      });\n    }\n  }\n\n  render() {\n    let imageUrl = emptysign;\n\n    let viewMeal = /*#__PURE__*/_jsxDEV(\"a\", {\n      href: \"#\",\n      style: {\n        color: \"rgb(41, 198, 254)\"\n      },\n      children: \" View Meal\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 24\n    }, this);\n\n    let meal = {\n      title: \"\"\n    };\n\n    let changeMealFunc = newMeal => {};\n\n    if (this.props.id !== \"\") {\n      const storageCheck = JSON.parse(localStorage.getItem(this.props.id));\n      const options = {\n        method: 'GET',\n        url: 'https://spoonacular-recipe-food-nutrition-v1.p.rapidapi.com/recipes/' + this.props.id + '/information',\n        headers: {\n          'X-RapidAPI-Host': 'spoonacular-recipe-food-nutrition-v1.p.rapidapi.com',\n          'X-RapidAPI-Key': config[\"api-key\"]\n        }\n      };\n      console.log(\"we reached here\");\n      imageUrl = \"https://spoonacular.com/recipeImages/\" + this.props.id + \"-240x150.jpg\";\n      viewMeal = /*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"#\",\n        style: {\n          color: \"rgb(41, 198, 254)\"\n        },\n        children: \" View Meal\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 24\n      }, this);\n    }\n\n    let search = /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false);\n\n    if (this.props.edit) {\n      search = /*#__PURE__*/_jsxDEV(\"button\", {\n        class: \"btn btn-primary\",\n        onClick: this.showModalClick\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 22\n      }, this);\n      changeMealFunc = this.props.changeMealFunc;\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"card\",\n      style: {\n        width: \"170px\",\n        backgroundColor: \"rgb(48, 51, 54)\",\n        color: \"whitesmoke\",\n        marginBottom: \"2rem\"\n      },\n      onClick: this.props.mealClick,\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: imageUrl,\n        class: \"card-img-top\",\n        alt: \"...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"card-body\",\n        children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n          class: \"card-title\",\n          children: meal.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 21\n        }, this), viewMeal, search, /*#__PURE__*/_jsxDEV(MealsModal, {\n          show: this.state.showModal,\n          closeFunc: () => this.setState({\n            showModal: false\n          }),\n          changeMealFunc: changeMealFunc\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default Meal;","map":{"version":3,"sources":["C:/Users/danie/Documents/computerscience/BetterMeals/bettermeal/src/components/Meals/Meal.js"],"names":["React","Component","axios","emptysign","MealsModal","config","Meal","constructor","props","getData","options","storageCheck","Date","now","ttl","console","log","title","setState","meal","showModalClick","alert","showModal","state","componentDidMount","id","JSON","parse","localStorage","getItem","method","url","headers","request","then","res","data","setItem","stringify","catch","err","error","render","imageUrl","viewMeal","color","changeMealFunc","newMeal","search","edit","width","backgroundColor","marginBottom","mealClick"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport axios from \"axios\";\r\nimport emptysign from \"../MealPlan/emptyplate.webp\"\r\nimport MealsModal from \"./MealsModal\";\r\nimport config from \"../../config.json\";\r\n\r\nclass Meal extends Component{\r\n    constructor(props){\r\n        super(props)\r\n        this.state = {\r\n            showModal: false,\r\n            meal: {title: \"\"},\r\n            title: \"\"\r\n        }\r\n        \r\n    }\r\n\r\n    // componentDidMount(){\r\n    getData = async (options, storageCheck) => {\r\n        if(storageCheck && (Date.now() < storageCheck.ttl)){\r\n            console.log(storageCheck.title)\r\n            this.setState({meal: storageCheck})\r\n            return storageCheck\r\n        }\r\n        else{\r\n            \r\n        }\r\n        // axios.request(options).then(res => {\r\n        //     console.log()\r\n        //     res.data.ttl = Date.now() + (86400 * 1000);\r\n        //     localStorage.setItem(this.props.id, JSON.stringify(res.data));\r\n            \r\n        // }).catch(function (error) {\r\n        //     console.error(error);\r\n        // });\r\n    }\r\n\r\n    componentDidMount(){\r\n        if(this.props.id !== \"\"){\r\n            const storageCheck = JSON.parse(localStorage.getItem(this.props.id));\r\n            const options = {\r\n                method: 'GET',\r\n                url: 'https://spoonacular-recipe-food-nutrition-v1.p.rapidapi.com/recipes/' + this.props.id + '/information',\r\n                headers: {\r\n                'X-RapidAPI-Host': 'spoonacular-recipe-food-nutrition-v1.p.rapidapi.com',\r\n                'X-RapidAPI-Key': config[\"api-key\"]\r\n                }\r\n            };\r\n        \r\n            \r\n            axios.request(options).then(res => {\r\n                res.data.ttl = Date.now() + (86400 * 1000);\r\n                localStorage.setItem(this.props.id, JSON.stringify(res.data));\r\n                console.log(res.data.title)\r\n            }).catch(err => {\r\n                console.error(err)\r\n            })\r\n            \r\n        }\r\n        \r\n    }\r\n    \r\n    showModalClick = () => {\r\n        alert();\r\n        this.setState({\r\n            showModal: true\r\n        })\r\n    }\r\n    render(){\r\n        let imageUrl = emptysign\r\n        let viewMeal = <a href=\"#\" style={{color: \"rgb(41, 198, 254)\"}}> View Meal</a>\r\n        let meal = {title: \"\"}\r\n        let changeMealFunc = (newMeal) => {}\r\n        if(this.props.id !== \"\"){\r\n            const storageCheck = JSON.parse(localStorage.getItem(this.props.id));\r\n            const options = {\r\n                method: 'GET',\r\n                url: 'https://spoonacular-recipe-food-nutrition-v1.p.rapidapi.com/recipes/' + this.props.id + '/information',\r\n                headers: {\r\n                  'X-RapidAPI-Host': 'spoonacular-recipe-food-nutrition-v1.p.rapidapi.com',\r\n                  'X-RapidAPI-Key': config[\"api-key\"]\r\n                }\r\n            };\r\n           \r\n            \r\n            console.log(\"we reached here\")\r\n            imageUrl = \"https://spoonacular.com/recipeImages/\" + this.props.id + \"-240x150.jpg\"\r\n            viewMeal = <a href=\"#\" style={{color: \"rgb(41, 198, 254)\"}}> View Meal</a>\r\n        \r\n        }\r\n        let search = <></>\r\n        if(this.props.edit){\r\n            search = <button class=\"btn btn-primary\" onClick={this.showModalClick}></button>\r\n            changeMealFunc = this.props.changeMealFunc\r\n        }\r\n        return(\r\n            <div class=\"card\" style={{width: \"170px\", backgroundColor: \"rgb(48, 51, 54)\", color: \"whitesmoke\", marginBottom: \"2rem\"}} onClick={this.props.mealClick}>\r\n                <img src={imageUrl} class=\"card-img-top\" alt=\"...\" />\r\n                <div class=\"card-body\" >\r\n                    <h6 class=\"card-title\">{meal.title}</h6>\r\n                    {viewMeal}\r\n                    {search}\r\n                    <MealsModal show={this.state.showModal} closeFunc={() => this.setState({showModal: false})} changeMealFunc={changeMealFunc}></MealsModal>\r\n                    \r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Meal;\r\n"]},"metadata":{},"sourceType":"module"}