{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\danie\\\\Documents\\\\computerscience\\\\BetterMeals\\\\bettermeal\\\\src\\\\components\\\\Meals\\\\Meal.js\";\nimport React, { Component } from \"react\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport axios from \"axios\";\nimport emptysign from \"../MealPlan/emptyplate.webp\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Meal extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      imageUrl: emptysign,\n      meal: {\n        title: \"No Meal\"\n      },\n      viewMeal: /*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"#\",\n        style: {\n          color: \"rgb(41, 198, 254)\"\n        },\n        children: \" View Meal\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 12,\n        columnNumber: 23\n      }, void 0)\n    };\n  }\n\n  componentDidMount() {\n    const {\n      id\n    } = this.props;\n\n    if (id !== \"\") {\n      const storageCheck = JSON.parse(localStorage.getItem(id));\n      const options = {\n        method: 'GET',\n        url: 'https://spoonacular-recipe-food-nutrition-v1.p.rapidapi.com/recipes/' + id + '/information',\n        headers: {\n          'X-RapidAPI-Host': 'spoonacular-recipe-food-nutrition-v1.p.rapidapi.com',\n          'X-RapidAPI-Key': '51be17977amsh1e7b4aa1af671dep16977ajsn18b85345a72c'\n        }\n      };\n\n      if (storageCheck && Date.now() < storageCheck.ttl) {\n        this.setState({\n          imageUrl: \"https://spoonacular.com/recipeImages/\" + id + \"-240x150.jpg\",\n          meal: storageCheck,\n          viewMeal: /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"#\",\n            style: {\n              color: \"rgb(41, 198, 254)\"\n            },\n            children: \" View Meal\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 33,\n            columnNumber: 31\n          }, this)\n        });\n      } else {\n        axios.request(options).then(res => {\n          // console.log(this.state.imageUrl);\n          localStorage.setItem(id, JSON.stringify(res.data));\n          this.setState({\n            imageUrl: \"https://spoonacular.com/recipeImages/\" + id + \"-240x150.jpg\",\n            meal: res.data,\n            viewMeal: /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"#\",\n              style: {\n                color: \"rgb(41, 198, 254)\"\n              },\n              children: \" View Meal\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 43,\n              columnNumber: 35\n            }, this)\n          });\n        }).catch(function (error) {\n          console.error(error);\n        });\n      }\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"card\",\n      style: {\n        width: \"170px\",\n        backgroundColor: \"rgb(48, 51, 54)\",\n        color: \"whitesmoke\",\n        marginBottom: \"2rem\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: this.state.imageUrl,\n        class: \"card-img-top\",\n        alt: \"...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"card-body\",\n        children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n          class: \"card-title\",\n          children: this.state.meal.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 21\n        }, this), this.state.viewMeal]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default Meal;","map":{"version":3,"sources":["C:/Users/danie/Documents/computerscience/BetterMeals/bettermeal/src/components/Meals/Meal.js"],"names":["React","Component","axios","emptysign","Meal","constructor","props","state","imageUrl","meal","title","viewMeal","color","componentDidMount","id","storageCheck","JSON","parse","localStorage","getItem","options","method","url","headers","Date","now","ttl","setState","request","then","res","setItem","stringify","data","catch","error","console","render","width","backgroundColor","marginBottom"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport axios from \"axios\";\r\nimport emptysign from \"../MealPlan/emptyplate.webp\"\r\n\r\nclass Meal extends Component{\r\n    constructor(props){\r\n        super(props)\r\n        this.state = {\r\n            imageUrl: emptysign,\r\n            meal: {title: \"No Meal\"},\r\n            viewMeal: <a href=\"#\" style={{color: \"rgb(41, 198, 254)\"}}> View Meal</a>\r\n        }\r\n        \r\n    }\r\n\r\n    componentDidMount(){\r\n        const {id} = this.props;\r\n        if(id !== \"\"){\r\n            const storageCheck = JSON.parse(localStorage.getItem(id));\r\n            const options = {\r\n                method: 'GET',\r\n                url: 'https://spoonacular-recipe-food-nutrition-v1.p.rapidapi.com/recipes/' + id + '/information',\r\n                headers: {\r\n                  'X-RapidAPI-Host': 'spoonacular-recipe-food-nutrition-v1.p.rapidapi.com',\r\n                  'X-RapidAPI-Key': '51be17977amsh1e7b4aa1af671dep16977ajsn18b85345a72c'\r\n                }\r\n            };\r\n            if(storageCheck && (Date.now() < storageCheck.ttl)){\r\n                this.setState({\r\n                    imageUrl: \"https://spoonacular.com/recipeImages/\" + id + \"-240x150.jpg\",\r\n                    meal: storageCheck,\r\n                    viewMeal: <a href=\"#\" style={{color: \"rgb(41, 198, 254)\"}}> View Meal</a>\r\n                })\r\n            }\r\n            else{\r\n                axios.request(options).then(res => {\r\n                    // console.log(this.state.imageUrl);\r\n                    localStorage.setItem(id, JSON.stringify(res.data));\r\n                    this.setState({\r\n                        imageUrl: \"https://spoonacular.com/recipeImages/\" + id + \"-240x150.jpg\",\r\n                        meal: res.data,\r\n                        viewMeal: <a href=\"#\" style={{color: \"rgb(41, 198, 254)\"}}> View Meal</a>\r\n                    })\r\n                }).catch(function (error) {\r\n                    console.error(error);\r\n                });\r\n            }\r\n        \r\n        }\r\n        \r\n    }\r\n    render(){\r\n        return(\r\n            <div class=\"card\" style={{width: \"170px\", backgroundColor: \"rgb(48, 51, 54)\", color: \"whitesmoke\", marginBottom: \"2rem\"}}>\r\n                <img src={this.state.imageUrl} class=\"card-img-top\" alt=\"...\" />\r\n                <div class=\"card-body\" >\r\n                    <h6 class=\"card-title\">{this.state.meal.title}</h6>\r\n                    {this.state.viewMeal}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Meal;\r\n"]},"metadata":{},"sourceType":"module"}