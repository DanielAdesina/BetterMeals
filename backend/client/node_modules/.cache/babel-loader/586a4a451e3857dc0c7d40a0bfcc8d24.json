{"ast":null,"code":"import _slicedToArray from\"C:/Users/danie/Documents/computerscience/BetterMeals/backend/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{Component}from'react';import\"bootstrap/dist/css/bootstrap.min.css\";import axios from'axios';import\"./login.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Register(){var _React$useState=React.useState(\"\"),_React$useState2=_slicedToArray(_React$useState,2),loginMessage=_React$useState2[0],setMessage=_React$useState2[1];var _React$useState3=React.useState(\"\"),_React$useState4=_slicedToArray(_React$useState3,2),usernameInput=_React$useState4[0],setUsernameInput=_React$useState4[1];var _React$useState5=React.useState(\"\"),_React$useState6=_slicedToArray(_React$useState5,2),passwordInput=_React$useState6[0],setPasswordInput=_React$useState6[1];function handleRegister(event){event.preventDefault();var user={username:usernameInput,password:passwordInput};axios.post('http://localhost:5000/user/register',user).then(function(res){if(res.data.message===\"user added successfully\"){localStorage.setItem(\"token\",res.data.token);axios.defaults.headers.common['x-access-token']=res.data.token;setMessage(\"\");window.location=\"/login\";}else if(res.data.message===\"Invalid Username or Password\"){axios.defaults.headers.common['x-access-token']=null;setMessage(\"Username already taken\");}});}return/*#__PURE__*/_jsx(\"div\",{class:\"loginbg\",style:{height:\"100vh\",overflow:\"auto\"},children:/*#__PURE__*/_jsx(\"div\",{class:\"container\",style:{width:'20vw',top:'10vh',position:'relative',display:'block',margin:'auto',backgroundColor:\"#13161d\",borderRadius:'2rem'},children:/*#__PURE__*/_jsxs(\"form\",{autoComplete:\"off\",style:{paddingTop:\"2vh\",paddingBottom:\"2vh\",paddingLeft:\"1vw\",paddingRight:\"1vw\"},children:[/*#__PURE__*/_jsx(\"div\",{class:\"form-outline mb-4\",children:/*#__PURE__*/_jsx(\"h1\",{style:{textAlign:\"center\",color:'#a60004',fontFamily:\"Lexend\"},children:\"Register\"})}),/*#__PURE__*/_jsx(\"div\",{class:\"form-outline mb-4\",children:/*#__PURE__*/_jsx(\"input\",{name:\"username\",type:\"email\",id:\"loginName\",placeholder:\"Username\",class:\"form-control\",onChange:function onChange(event){return setUsernameInput(event.target.value);}})}),/*#__PURE__*/_jsx(\"div\",{class:\"form-outline mb-4\",children:/*#__PURE__*/_jsx(\"input\",{name:\"password\",type:\"password\",id:\"loginPassword\",placeholder:\"Password\",class:\"form-control\",onChange:function onChange(event){return setPasswordInput(event.target.value);}})}),/*#__PURE__*/_jsx(\"button\",{id:\"signin\",type:\"submit\",class:\"shadow btn btn-primary btn-block mb-4\",onClick:function onClick(event){return handleRegister(event);},style:{width:'100%'},children:\"Sign up\"}),/*#__PURE__*/_jsxs(\"div\",{class:\"text-center\",children:[/*#__PURE__*/_jsxs(\"p\",{style:{color:\"whitesmoke\"},children:[\"Already a member? \",/*#__PURE__*/_jsx(\"a\",{style:{color:'#a60004'},href:\"/login\",children:\"Login\"})]}),/*#__PURE__*/_jsx(\"span\",{style:{color:\"whitesmoke\"},id:\"messageSpan\",children:loginMessage})]})]})})});}export default Register;","map":{"version":3,"sources":["C:/Users/danie/Documents/computerscience/BetterMeals/backend/client/src/components/Auth/Register.js"],"names":["React","Component","axios","Register","useState","loginMessage","setMessage","usernameInput","setUsernameInput","passwordInput","setPasswordInput","handleRegister","event","preventDefault","user","username","password","post","then","res","data","message","localStorage","setItem","token","defaults","headers","common","window","location","height","overflow","width","top","position","display","margin","backgroundColor","borderRadius","paddingTop","paddingBottom","paddingLeft","paddingRight","textAlign","color","fontFamily","target","value"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport axios from 'axios';\r\nimport \"./login.css\"\r\n\r\n\r\nfunction Register(){\r\n    const [loginMessage, setMessage] = React.useState(\"\");\r\n    const [usernameInput, setUsernameInput] = React.useState(\"\");\r\n    const [passwordInput, setPasswordInput] = React.useState(\"\");\r\n\r\n    function handleRegister(event){\r\n        event.preventDefault();\r\n        const user = {\r\n            username: usernameInput,\r\n            password: passwordInput\r\n        }\r\n        axios.post('http://localhost:5000/user/register', user)\r\n            .then(res => {\r\n                if(res.data.message === \"user added successfully\"){\r\n                    localStorage.setItem(\"token\", res.data.token);\r\n                    axios.defaults.headers.common['x-access-token'] = res.data.token;\r\n                    setMessage(\"\");\r\n                    window.location = \"/login\"\r\n                }\r\n                else if(res.data.message === \"Invalid Username or Password\"){\r\n                    axios.defaults.headers.common['x-access-token'] = null;\r\n                    setMessage(\"Username already taken\");\r\n                }\r\n            })\r\n        \r\n        \r\n    }\r\n\r\n\r\n    return(\r\n        <div class=\"loginbg\" style={{height: \"100vh\", overflow: \"auto\"}}>\r\n\r\n        \r\n            <div class=\"container\" style={{width:'20vw', top: '10vh', position: 'relative', display: 'block', margin: 'auto', backgroundColor: \"#13161d\", borderRadius: '2rem'}}>\r\n                \r\n\r\n\r\n\r\n                \r\n                    \r\n                        <form autoComplete='off' style={{paddingTop: \"2vh\", paddingBottom: \"2vh\", paddingLeft: \"1vw\", paddingRight: \"1vw\"}}>\r\n                            <div class=\"form-outline mb-4\">\r\n                                <h1 style={{textAlign: \"center\", color: '#a60004', fontFamily: \"Lexend\"}}>Register</h1>\r\n                            </div>\r\n\r\n                            <div class=\"form-outline mb-4\">\r\n                                <input name=\"username\" type=\"email\" id=\"loginName\" placeholder=\"Username\" class=\"form-control\" onChange={event => setUsernameInput(event.target.value)} />\r\n                            </div>\r\n\r\n                            <div class=\"form-outline mb-4\">\r\n                                <input name=\"password\" type=\"password\" id=\"loginPassword\" placeholder=\"Password\" class=\"form-control\" onChange={event => setPasswordInput(event.target.value)}/>\r\n                            </div>\r\n\r\n                    \r\n                            <button id=\"signin\" type=\"submit\" class=\"shadow btn btn-primary btn-block mb-4\" onClick={event => handleRegister(event)}style={{width:'100%'}}>Sign up</button>\r\n                            \r\n            \r\n\r\n            \r\n                            <div class=\"text-center\">\r\n                                <p style={{color: \"whitesmoke\"}}>Already a member? <a style={{color: '#a60004'}} href=\"/login\">Login</a></p>\r\n                                <span style={{color: \"whitesmoke\"}} id=\"messageSpan\">{loginMessage}</span>\r\n                            </div>\r\n                        </form>\r\n            </div>\r\n        </div>\r\n    \r\n\r\n    )\r\n}\r\n\r\n\r\nexport default Register"]},"metadata":{},"sourceType":"module"}