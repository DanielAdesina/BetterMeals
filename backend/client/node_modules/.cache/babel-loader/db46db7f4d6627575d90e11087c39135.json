{"ast":null,"code":"import _classCallCheck from\"C:/Users/danie/Documents/computerscience/BetterMeals/backend/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/danie/Documents/computerscience/BetterMeals/backend/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/danie/Documents/computerscience/BetterMeals/backend/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/danie/Documents/computerscience/BetterMeals/backend/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import TodaysMeal from\"./TodaysMeal\";import WeeklyPlan from\"./WeeklyPlan\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var CurrentPlan=/*#__PURE__*/function(_Component){_inherits(CurrentPlan,_Component);var _super=_createSuper(CurrentPlan);function CurrentPlan(props){var _this;_classCallCheck(this,CurrentPlan);_this=_super.call(this,props);_this.switchContent=function(buttonId){_this.setState({currContent:buttonId});};_this.state={content:[/*#__PURE__*/_jsx(TodaysMeal,{})],currContent:0};return _this;}_createClass(CurrentPlan,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;this.setState({currContent:0});var config={headers:{\"x-access-token\":localStorage.getItem(\"token\")}};axios.get('http://localhost:5000/user/getActive',config).then(function(activePlanRes){if(activePlanRes.data.isAuth===false){window.location=\"/login\";}_this2.setState({content:[/*#__PURE__*/_jsx(TodaysMeal,{}),/*#__PURE__*/_jsx(WeeklyPlan,{id:activePlanRes.data.activePlanId})]});});}},{key:\"render\",value:function render(){var _this3=this;return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{class:\"btn-group\",role:\"group\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",class:\"btn btn-secondary btn-lg\",onClick:function onClick(){return _this3.switchContent(0);},children:\"Today's Meals\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",class:\"btn btn-secondary btn-lg\",onClick:function onClick(){return _this3.switchContent(1);},children:\"Weekly Plan\"})]}),this.state.content[this.state.currContent]]});}}]);return CurrentPlan;}(Component);export default CurrentPlan;","map":{"version":3,"sources":["C:/Users/danie/Documents/computerscience/BetterMeals/backend/client/src/components/App/CurrentPlan.js"],"names":["React","Component","TodaysMeal","WeeklyPlan","axios","CurrentPlan","props","switchContent","buttonId","setState","currContent","state","content","config","headers","localStorage","getItem","get","then","activePlanRes","data","isAuth","window","location","activePlanId"],"mappings":"wtBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,UAAP,KAAuB,cAAvB,CACA,MAAOC,CAAAA,UAAP,KAAuB,cAAvB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,gJAIMC,CAAAA,W,0GACF,qBAAYC,KAAZ,CAAkB,6CACd,uBAAMA,KAAN,EADc,MAQlBC,aARkB,CAQF,SAACC,QAAD,CAAc,CAC1B,MAAKC,QAAL,CAAc,CAACC,WAAW,CAAEF,QAAd,CAAd,EACH,CAViB,CAEd,MAAKG,KAAL,CAAa,CACTC,OAAO,CAAE,cAAC,KAAC,UAAD,IAAD,CADA,CAETF,WAAW,CAAE,CAFJ,CAAb,CAFc,aAMjB,C,yDAMD,4BAAmB,iBACf,KAAKD,QAAL,CAAc,CAACC,WAAW,CAAE,CAAd,CAAd,EACA,GAAMG,CAAAA,MAAM,CAAG,CACXC,OAAO,CAAC,CACR,iBAAkBC,YAAY,CAACC,OAAb,CAAqB,OAArB,CADV,CADG,CAAf,CAKAZ,KAAK,CAACa,GAAN,CAAU,sCAAV,CAAkDJ,MAAlD,EACCK,IADD,CACM,SAAAC,aAAa,CAAI,CACnB,GAAGA,aAAa,CAACC,IAAd,CAAmBC,MAAnB,GAA8B,KAAjC,CAAuC,CACnCC,MAAM,CAACC,QAAP,CAAkB,QAAlB,CACH,CAED,MAAI,CAACd,QAAL,CAAc,CAACG,OAAO,CAAE,cAAC,KAAC,UAAD,IAAD,cAA4B,KAAC,UAAD,EAAY,EAAE,CAAEO,aAAa,CAACC,IAAd,CAAmBI,YAAnC,EAA5B,CAAV,CAAd,EAEH,CARD,EASH,C,sBAED,iBAAQ,iBACJ,mBACA,wCACI,aAAK,KAAK,CAAC,WAAX,CAAuB,IAAI,CAAC,OAA5B,wBACI,eAAQ,IAAI,CAAC,QAAb,CAAsB,KAAK,CAAC,0BAA5B,CAAuD,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACjB,aAAL,CAAmB,CAAnB,CAAN,EAAhE,2BADJ,cAEI,eAAQ,IAAI,CAAC,QAAb,CAAsB,KAAK,CAAC,0BAA5B,CAAuD,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACA,aAAL,CAAmB,CAAnB,CAAN,EAAhE,yBAFJ,GADJ,CAKK,KAAKI,KAAL,CAAWC,OAAX,CAAmB,KAAKD,KAAL,CAAWD,WAA9B,CALL,GADA,CASH,C,yBAzCqBT,S,EA4C1B,cAAeI,CAAAA,WAAf","sourcesContent":["import React, { Component } from \"react\";\r\nimport TodaysMeal from \"./TodaysMeal\";\r\nimport WeeklyPlan from \"./WeeklyPlan\";\r\nimport axios from \"axios\";\r\n\r\n\r\n\r\nclass CurrentPlan extends Component{\r\n    constructor(props){\r\n        super(props)\r\n        this.state = {\r\n            content: [<TodaysMeal></TodaysMeal>],\r\n            currContent: 0\r\n        }\r\n    }\r\n\r\n    switchContent = (buttonId) => {\r\n        this.setState({currContent: buttonId})\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.setState({currContent: 0})\r\n        const config = {\r\n            headers:{\r\n            \"x-access-token\": localStorage.getItem(\"token\")\r\n            }\r\n        }\r\n        axios.get('http://localhost:5000/user/getActive', config)\r\n        .then(activePlanRes => {\r\n            if(activePlanRes.data.isAuth === false){\r\n                window.location = \"/login\"; \r\n            }\r\n            \r\n            this.setState({content: [<TodaysMeal></TodaysMeal>, <WeeklyPlan id={activePlanRes.data.activePlanId}></WeeklyPlan>]})\r\n            \r\n        })\r\n    }\r\n\r\n    render(){\r\n        return (\r\n        <>\r\n            <div class=\"btn-group\" role=\"group\">\r\n                <button type=\"button\" class=\"btn btn-secondary btn-lg\" onClick={() => this.switchContent(0)}>Today's Meals</button>\r\n                <button type=\"button\" class=\"btn btn-secondary btn-lg\" onClick={() => this.switchContent(1)}>Weekly Plan</button>\r\n            </div>\r\n            {this.state.content[this.state.currContent]}\r\n        </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default CurrentPlan"]},"metadata":{},"sourceType":"module"}