{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\danie\\\\Documents\\\\computerscience\\\\BetterMeals\\\\bettermeal\\\\src\\\\components\\\\App\\\\MealSnippet.js\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport config from \"../../config.json\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass MealSnippet extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      meal: {}\n    };\n  }\n\n  componentDidMount() {\n    const id = this.props.id;\n    const storageCheck = JSON.parse(localStorage.getItem(id));\n    const options = {\n      method: 'GET',\n      url: 'https://spoonacular-recipe-food-nutrition-v1.p.rapidapi.com/recipes/' + id + '/information',\n      headers: {\n        'X-RapidAPI-Host': 'spoonacular-recipe-food-nutrition-v1.p.rapidapi.com',\n        'X-RapidAPI-Key': config[\"api-key\"]\n      }\n    };\n\n    if (storageCheck && Date.now() < storageCheck.ttl) {\n      this.setState({\n        meal: storageCheck\n      });\n    } else {\n      axios.request(options).then(res => {\n        res.data.ttl = Date.now() + 86400 * 1000;\n        localStorage.setItem(id, JSON.stringify(res.data));\n        this.setState({\n          meal: res.data\n        });\n      }).catch(err => {\n        console.error(err);\n      });\n    }\n  }\n\n  render() {\n    let meal = this.state.meal;\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        style: {\n          width: \"278px\",\n          height: \"185px\"\n        },\n        src: \"https://spoonacular.com/recipeImages/\" + meal.id + \"-556x370.jpg\",\n        align: \"left\",\n        class: \"col-md-8 float mb-3 mt-3 me-5 ms-md-3\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        style: {\n          marginTop: \"1vh\"\n        },\n        children: meal.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          margin: \"2vw\"\n        },\n        dangerouslySetInnerHTML: {\n          __html: meal.summary\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          backgroundColor: 'rgba(255, 255, 255, 0.7)',\n          fontFamily: \"Lexend\",\n          width: \"100%\"\n        },\n        children: /*#__PURE__*/_jsxDEV(Accordion, {\n          defaultActiveKey: \"0\",\n          style: {\n            width: \"70vw\",\n            marginLeft: \"1vw\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(Accordion.Item, {\n            eventKey: \"0\",\n            children: [/*#__PURE__*/_jsxDEV(Accordion.Header, {\n              children: \"Ingredients\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Accordion.Body, {\n              children: this.state.images\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Accordion.Item, {\n            eventKey: \"1\",\n            children: [/*#__PURE__*/_jsxDEV(Accordion.Header, {\n              children: \"Steps\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Accordion.Body, {\n              children: this.state.steps\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true);\n  }\n\n}\n\nexport default MealSnippet;","map":{"version":3,"sources":["C:/Users/danie/Documents/computerscience/BetterMeals/bettermeal/src/components/App/MealSnippet.js"],"names":["React","Component","axios","config","MealSnippet","constructor","props","state","meal","componentDidMount","id","storageCheck","JSON","parse","localStorage","getItem","options","method","url","headers","Date","now","ttl","setState","request","then","res","data","setItem","stringify","catch","err","console","error","render","width","height","marginTop","title","margin","__html","summary","backgroundColor","fontFamily","marginLeft","images","steps"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport config from \"../../config.json\";\r\n\r\nclass MealSnippet extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            meal: {}\r\n        }\r\n    }\r\n\r\n    componentDidMount(){\r\n        const id = this.props.id\r\n        const storageCheck = JSON.parse(localStorage.getItem(id));\r\n        const options = {\r\n            method: 'GET',\r\n            url: 'https://spoonacular-recipe-food-nutrition-v1.p.rapidapi.com/recipes/' + id + '/information',\r\n            headers: {\r\n            'X-RapidAPI-Host': 'spoonacular-recipe-food-nutrition-v1.p.rapidapi.com',\r\n            'X-RapidAPI-Key': config[\"api-key\"]\r\n            }\r\n        };\r\n        if(storageCheck && (Date.now() < storageCheck.ttl)){\r\n            this.setState({\r\n                meal: storageCheck\r\n            })\r\n        }\r\n        else{\r\n            axios.request(options).then(res => {\r\n                res.data.ttl = Date.now() + (86400 * 1000);\r\n                localStorage.setItem(id, JSON.stringify(res.data));\r\n                this.setState({\r\n                    meal: res.data\r\n                })\r\n                         \r\n            }).catch(err => {\r\n                console.error(err)\r\n            })\r\n        }\r\n\r\n    }\r\n\r\n    render(){\r\n        let meal = this.state.meal\r\n        return(\r\n            <>\r\n                <img style={{width: \"278px\", height: \"185px\"}} src={\"https://spoonacular.com/recipeImages/\" + meal.id + \"-556x370.jpg\"} \r\n                align=\"left\" class=\"col-md-8 float mb-3 mt-3 me-5 ms-md-3\"></img>\r\n                <h2 style={{marginTop: \"1vh\"}}>{meal.title}</h2>\r\n                <p style={{margin: \"2vw\"}} dangerouslySetInnerHTML={{__html: meal.summary}}></p>\r\n                <div style={{backgroundColor: 'rgba(255, 255, 255, 0.7)', fontFamily: \"Lexend\", width: \"100%\"}}>\r\n                \r\n                    <Accordion defaultActiveKey=\"0\" style={{width: \"70vw\", marginLeft: \"1vw\"}}>\r\n                        <Accordion.Item eventKey=\"0\">\r\n                            <Accordion.Header>\r\n                                    Ingredients\r\n                            </Accordion.Header>\r\n                            <Accordion.Body>\r\n                                {this.state.images}\r\n                            </Accordion.Body>\r\n                        </Accordion.Item>\r\n                        <Accordion.Item eventKey=\"1\">\r\n                            <Accordion.Header>\r\n                                    Steps\r\n                            </Accordion.Header>\r\n                            <Accordion.Body>\r\n                                {this.state.steps}\r\n                            </Accordion.Body>\r\n                        </Accordion.Item>\r\n                        \r\n                        \r\n                    </Accordion>\r\n                \r\n            </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default MealSnippet;"]},"metadata":{},"sourceType":"module"}