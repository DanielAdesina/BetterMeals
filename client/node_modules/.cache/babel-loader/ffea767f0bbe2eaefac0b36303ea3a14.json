{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\danie\\\\Documents\\\\computerscience\\\\BetterMeals\\\\bettermeal\\\\src\\\\components\\\\App\\\\MealSnippet.js\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport config from \"../../config.json\";\nimport { Accordion, Button } from 'react-bootstrap';\nimport { Link } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass MealSnippet extends Component {\n  constructor(props) {\n    super(props);\n\n    this.loadContents = () => {\n      const id = this.props.id;\n      let meal = {};\n      let summary = \"\";\n      const storageCheck = JSON.parse(localStorage.getItem(id));\n      const options = {\n        method: 'GET',\n        url: 'https://spoonacular-recipe-food-nutrition-v1.p.rapidapi.com/recipes/' + id + '/information',\n        headers: {\n          'X-RapidAPI-Host': 'spoonacular-recipe-food-nutrition-v1.p.rapidapi.com',\n          'X-RapidAPI-Key': config[\"api-key\"]\n        }\n      };\n\n      if (storageCheck && Date.now() < storageCheck.ttl) {\n        meal = storageCheck;\n        summary = storageCheck.summary;\n      } else {\n        axios.request(options).then(res => {\n          res.data.ttl = Date.now() + 86400 * 1000;\n          localStorage.setItem(id, JSON.stringify(res.data));\n          meal = res.data;\n          summary = res.data.summary;\n        }).catch(err => {\n          console.error(err);\n        });\n      }\n\n      return [meal, summary];\n    };\n\n    this.state = {\n      meal: {},\n      summary: \"\"\n    };\n  }\n\n  componentDidMount() {\n    const id = this.props.id;\n    this.loadContents();\n  }\n\n  render() {\n    const id = this.props.id;\n    let meal = {};\n    let summary = \"\";\n    let pFontSize = 15;\n\n    let mealLink = /*#__PURE__*/_jsxDEV(Link, {\n      to: \"/meal/\" + this.props.id,\n      class: \"btn\",\n      style: {\n        borderRadius: \"0px\",\n        backgroundColor: \"lightblue\",\n        width: \"100%\",\n        color: \"black\",\n        fontWeight: \"bold\"\n      },\n      children: \"View More\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 24\n    }, this);\n\n    if (this.props.id === \"\") {\n      pFontSize = 20;\n      mealLink = /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false);\n    }\n\n    if (id !== \"\") {\n      const storageCheck = JSON.parse(localStorage.getItem(id));\n      const options = {\n        method: 'GET',\n        url: 'https://spoonacular-recipe-food-nutrition-v1.p.rapidapi.com/recipes/' + id + '/information',\n        headers: {\n          'X-RapidAPI-Host': 'spoonacular-recipe-food-nutrition-v1.p.rapidapi.com',\n          'X-RapidAPI-Key': config[\"api-key\"]\n        }\n      };\n\n      if (storageCheck && Date.now() < storageCheck.ttl) {\n        meal = storageCheck;\n        summary = storageCheck.summary;\n      } else {\n        axios.request(options).then(res => {\n          res.data.ttl = Date.now() + 86400 * 1000;\n          localStorage.setItem(id, JSON.stringify(res.data));\n          meal = res.data;\n          summary = res.data.summary;\n          return /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              style: {\n                width: \"278px\",\n                height: \"185px\"\n              },\n              src: \"https://spoonacular.com/recipeImages/\" + meal.id + \"-556x370.jpg\",\n              align: \"left\",\n              class: \"col-md-8 float mb-3 mt-3 me-5 ms-md-3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n              style: {\n                marginTop: \"1vh\"\n              },\n              children: meal.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                margin: \"2vw\",\n                fontSize: pFontSize + \"px\"\n              },\n              dangerouslySetInnerHTML: {\n                __html: summary\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 29\n            }, this), mealLink]\n          }, void 0, true);\n        }).catch(err => {\n          console.error(err);\n        });\n      }\n    } else {\n      summary = \"No Meal Selected\";\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          style: {\n            width: \"278px\",\n            height: \"185px\"\n          },\n          src: \"https://spoonacular.com/recipeImages/\" + meal.id + \"-556x370.jpg\",\n          align: \"left\",\n          class: \"col-md-8 float mb-3 mt-3 me-5 ms-md-3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          style: {\n            marginTop: \"1vh\"\n          },\n          children: meal.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            margin: \"2vw\",\n            fontSize: pFontSize + \"px\"\n          },\n          dangerouslySetInnerHTML: {\n            __html: summary\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 21\n        }, this), mealLink]\n      }, void 0, true);\n    }\n  }\n\n}\n\nexport default MealSnippet;","map":{"version":3,"sources":["C:/Users/danie/Documents/computerscience/BetterMeals/bettermeal/src/components/App/MealSnippet.js"],"names":["React","Component","axios","config","Accordion","Button","Link","MealSnippet","constructor","props","loadContents","id","meal","summary","storageCheck","JSON","parse","localStorage","getItem","options","method","url","headers","Date","now","ttl","request","then","res","data","setItem","stringify","catch","err","console","error","state","componentDidMount","render","pFontSize","mealLink","borderRadius","backgroundColor","width","color","fontWeight","height","marginTop","title","margin","fontSize","__html"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport config from \"../../config.json\";\r\nimport { Accordion, Button } from 'react-bootstrap'\r\nimport { Link } from \"react-router-dom\";\r\n\r\nclass MealSnippet extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            meal: {},\r\n            summary: \"\"\r\n        }\r\n    }\r\n\r\n    loadContents = () => {\r\n        const id = this.props.id\r\n\r\n        let meal = {}\r\n        let summary = \"\"\r\n\r\n        const storageCheck = JSON.parse(localStorage.getItem(id));\r\n        const options = {\r\n            method: 'GET',\r\n            url: 'https://spoonacular-recipe-food-nutrition-v1.p.rapidapi.com/recipes/' + id + '/information',\r\n            headers: {\r\n            'X-RapidAPI-Host': 'spoonacular-recipe-food-nutrition-v1.p.rapidapi.com',\r\n            'X-RapidAPI-Key': config[\"api-key\"]\r\n            }\r\n        };\r\n        if(storageCheck && (Date.now() < storageCheck.ttl)){\r\n            \r\n            meal = storageCheck\r\n            summary = storageCheck.summary\r\n            \r\n        }\r\n        else{\r\n            axios.request(options).then(res => {\r\n                res.data.ttl = Date.now() + (86400 * 1000);\r\n                localStorage.setItem(id, JSON.stringify(res.data));\r\n                meal = res.data\r\n                summary = res.data.summary\r\n                        \r\n            }).catch(err => {\r\n                console.error(err)\r\n            })\r\n        }\r\n        return [meal, summary]\r\n    }\r\n\r\n    componentDidMount(){\r\n        const id = this.props.id\r\n        this.loadContents()\r\n        \r\n    }\r\n\r\n\r\n    render(){\r\n        const id = this.props.id\r\n        let meal = {}\r\n        let summary = \"\"\r\n\r\n        let pFontSize = 15\r\n        let mealLink = <Link to={\"/meal/\" + this.props.id} class=\"btn\"\r\n        style={{borderRadius: \"0px\", backgroundColor: \"lightblue\", width: \"100%\", color: \"black\", fontWeight: \"bold\"}}>View More</Link>\r\n\r\n        if(this.props.id === \"\"){\r\n            pFontSize = 20;\r\n            mealLink = <></>\r\n        }\r\n\r\n        if(id !== \"\"){\r\n            const storageCheck = JSON.parse(localStorage.getItem(id));\r\n            const options = {\r\n                method: 'GET',\r\n                url: 'https://spoonacular-recipe-food-nutrition-v1.p.rapidapi.com/recipes/' + id + '/information',\r\n                headers: {\r\n                'X-RapidAPI-Host': 'spoonacular-recipe-food-nutrition-v1.p.rapidapi.com',\r\n                'X-RapidAPI-Key': config[\"api-key\"]\r\n                }\r\n            };\r\n            if(storageCheck && (Date.now() < storageCheck.ttl)){\r\n                \r\n                meal = storageCheck\r\n                summary = storageCheck.summary\r\n                \r\n            }\r\n            else{\r\n                axios.request(options).then(res => {\r\n                    res.data.ttl = Date.now() + (86400 * 1000);\r\n                    localStorage.setItem(id, JSON.stringify(res.data));\r\n                    meal = res.data\r\n                    summary = res.data.summary\r\n                    return(\r\n                        <>\r\n                            <img style={{width: \"278px\", height: \"185px\"}} src={\"https://spoonacular.com/recipeImages/\" + meal.id + \"-556x370.jpg\"} \r\n                            align=\"left\" class=\"col-md-8 float mb-3 mt-3 me-5 ms-md-3\"></img>\r\n                            <h2 style={{marginTop: \"1vh\"}}>{meal.title}</h2>\r\n                            <p style={{margin: \"2vw\", fontSize: pFontSize + \"px\"}} dangerouslySetInnerHTML={{__html: summary}}></p>\r\n                            {mealLink}\r\n                        </>\r\n                    )\r\n                            \r\n                }).catch(err => {\r\n                    console.error(err)\r\n                })\r\n            }\r\n        }\r\n        else{\r\n            summary = \"No Meal Selected\"\r\n            return(\r\n                <>\r\n                    <img style={{width: \"278px\", height: \"185px\"}} src={\"https://spoonacular.com/recipeImages/\" + meal.id + \"-556x370.jpg\"} \r\n                    align=\"left\" class=\"col-md-8 float mb-3 mt-3 me-5 ms-md-3\"></img>\r\n                    <h2 style={{marginTop: \"1vh\"}}>{meal.title}</h2>\r\n                    <p style={{margin: \"2vw\", fontSize: pFontSize + \"px\"}} dangerouslySetInnerHTML={{__html: summary}}></p>\r\n                    {mealLink}\r\n                </>\r\n            )\r\n        }\r\n\r\n        \r\n        \r\n\r\n        \r\n       \r\n    }\r\n}\r\n\r\nexport default MealSnippet;"]},"metadata":{},"sourceType":"module"}